<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit <%= type %></title>
</head>
<body>
  <%- include('./partials/header') %>

  <ul>
    <% if (typeof errors !== 'undefined') {
      for (let err of errors) { %>
        <li><%= err.msg%></li>
      <% }
    } %>
  </ul>
  <form action="/edit/<%=type%>/<%=item.id%>" method="post">
    <% if(type === 'category') { %>
      <label for="name">Category name</label>
      <input type="text" name="name" id="name" value="<%= item.name%>">

    <% } else if(type === 'item') { %>
      <label for="name">Item name</label>
      <input type="text" name="name" id="name" value="<%=item.name%>" required>
      <label for="category">Category</label>
      <select name="categoryId" id="category">
        <% for (let cat of categories ) { %>
          <option value="<%=cat.id%>" <%- item.category_id === cat.id && 'selected' %>><%=cat.name%></option>
        <% }%>
      </select>
      <label for="imageUrl">Image url</label>
      <input type="text" name="imageUrl" id="imageUrl" value="<%=item.image_url%>">
    <% } %>

    <button type="submit">Submit</button>
  </form>

  <%- include('./partials/footer') %>
</body>
</html>